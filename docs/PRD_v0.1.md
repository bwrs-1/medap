# PRD v0.1 - メダカ品種図鑑＋容器管理アプリ

## 1. 目的
- メダカ愛好家が品種情報を共有・参照できる図鑑機能
- 個人の飼育容器を管理し、どの容器にどの品種がいるか記録
- 複数ユーザーで情報を共同編集（CRUD権限管理）

## 2. 対象ユーザー
- **Primary**: 50-70代のメダカ愛好家（高齢者UI配慮必須）
- **Secondary**: 若年層の品種コレクター

## 3. スコープ

### MVP (v0.1)
- ✅ 品種図鑑（一覧・詳細・検索）
- ✅ 容器管理（CRUD）
- ✅ 容器×品種の紐付け
- ✅ ユーザー認証（JWT）
- ✅ 権限管理（Viewer/Editor/Admin）
- ✅ オフライン閲覧（ローカルキャッシュ）

### v1以降（MVP外）
- ❌ SNSタイムライン
- ❌ 画像アップロード（v0.1は外部URL参照のみ）
- ❌ プッシュ通知
- ❌ 統計・グラフ機能

## 4. 機能要件

### 4.1 品種図鑑
- **一覧表示**: サムネイル・品種名・系統でカード表示
- **検索**: 品種名・系統・特徴でフィルタ
- **詳細**: 写真・説明・特徴・飼育難易度・価格帯
- **編集**: Editor以上が追加・更新可能（楽観ロック）

### 4.2 容器管理
- **CRUD**: 容器名・サイズ・設置場所・メモ
- **品種紐付け**: 1容器に複数品種を登録（個体数も記録）
- **一覧**: 容器ごとに飼育中の品種を表示

### 4.3 認証・権限
- **ログイン**: Google OAuth → JWT発行
- **権限レベル**:
  - Viewer: 閲覧のみ
  - Editor: 品種・容器の追加・編集
  - Admin: ユーザー権限管理・削除権限
- **監査ログ**: 誰がいつ何を変更したか記録

## 5. 非機能要件

### 5.1 パフォーマンス
- 品種一覧の初回表示: 3秒以内
- 検索結果表示: 1秒以内
- オフライン時はキャッシュから即時表示

### 5.2 アクセシビリティ
- **文字サイズ**: 最小16pt（高齢者対応）
- **タップ領域**: 最小44x44pt
- **コントラスト**: WCAG AA準拠
- **VoiceOver**: 全画面対応

### 5.3 セキュリティ
- JWT有効期限: 7日間
- HTTPS必須（Cloud Run/Functions）
- スプレッドシート直アクセス禁止

### 5.4 配信
- AltStore系（SideStore/AltStore）での配布
- 署名証明書は開発者個人のApple ID使用

## 6. 受入基準

### MVP完了条件
- [ ] 品種を10件登録し、検索・詳細表示できる
- [ ] 容器を3件作成し、品種を紐付けできる
- [ ] Viewer/Editorで権限差が動作する
- [ ] オフライン時に前回取得データを表示できる
- [ ] 監査ログに編集履歴が記録される
- [ ] AltStoreでインストール・起動できる

---

**作成日**: 2026-01-08  
**バージョン**: 0.1  
**次回更新**: 画面設計完了時
