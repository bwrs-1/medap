# 險ｭ險域ｱｺ螳壻ｺ矩・v0.1

> QUESTIONS.md縺ｮ遒ｺ隱堺ｺ矩・↓蟇ｾ縺吶ｋ豎ｺ螳壼・螳ｹ

## 1. 繧､繝ｳ繝輔Λ繝ｻ驟榊ｸ・

### 1.1 Google Cloud
- 笨・**Cloud Run菴ｿ逕ｨ**: Node.js + Express縺ｧ螳溯｣・
- 笨・**繝ｪ繝ｼ繧ｸ繝ｧ繝ｳ**: asia-northeast1・域擲莠ｬ・・
- 笨・**譁咎≡**: 辟｡譁呎棧蜀・〒驕狗畑・域怦髢・00荳・Μ繧ｯ繧ｨ繧ｹ繝医∪縺ｧ辟｡譁呻ｼ・

### 1.2 Apple Developer
- 笨・**Bundle ID**: `com.medaka.app`・井ｻｮ・・
- 笨・**鄂ｲ蜷・*: 辟｡譁僊pple ID菴ｿ逕ｨ・・譌･髢捺怏蜉ｹ・・
- 竢ｸ・・**TestFlight**: MVP蠕後↓讀懆ｨ趣ｼ域怏譁吶い繧ｫ繧ｦ繝ｳ繝亥ｿ・ｦ・ｼ・

---

## 2. 隱崎ｨｼ繝ｻ繧ｻ繧ｭ繝･繝ｪ繝・ぅ

### 2.1 Google OAuth
- 笨・**OAuth Client ID**: iOS逕ｨ縺ｨBackend逕ｨ縺ｮ2縺､繧剃ｽ懈・
- 笨・**繧ｹ繧ｳ繝ｼ繝・*: `profile`縺ｨ`email`縺ｮ縺ｿ
- 笨・**繝ｪ繝繧､繝ｬ繧ｯ繝・RI**: `com.medaka.app:/oauth2callback`・・OS・・

### 2.2 JWT
- 笨・**遘伜ｯ・嵯**: 迺ｰ蠅・､画焚縺ｧ邂｡逅・ｼ磯幕逋ｺ譎ゑｼ峨，loud Secret Manager・域悽逡ｪ・・
- 笨・**譛牙柑譛滄剞**: 7譌･髢難ｼ医Μ繝輔Ξ繝・す繝･繝医・繧ｯ繝ｳ縺ｪ縺暦ｼ・

### 2.3 讓ｩ髯千ｮ｡逅・
- 笨・**蛻晄悄讓ｩ髯・*: 蛻晏屓繝ｭ繧ｰ繧､繝ｳ譎ゅ・閾ｪ蜍輔〒Viewer逋ｻ骭ｲ
- 笨・**Admin菴懈・**: 譛蛻昴・Admin縺ｯ謇句虚縺ｧSheets縺ｮ`users`繧ｷ繝ｼ繝医↓霑ｽ蜉
- 笨・**讓ｩ髯先・譬ｼ**: Admin縺郡ettings縺九ｉ莉悶Θ繝ｼ繧ｶ繝ｼ縺ｮ讓ｩ髯舌ｒ螟画峩蜿ｯ閭ｽ

---

## 3. 繝・・繧ｿ險ｭ險・

### 3.1 Google Sheets
- 笨・**繧ｷ繝ｼ繝域ｧ区・**: varieties / containers / container_varieties / audit_log / **users**・郁ｿｽ蜉・・
- 笨・**繝舌ャ繧ｯ繧｢繝・・**: Google Drive縺ｮ繝舌・繧ｸ繝ｧ繝ｳ螻･豁ｴ縺ｧ蟇ｾ蠢懶ｼ域焔蜍輔ヰ繝・け繧｢繝・・繧よ耳螂ｨ・・
- 笨・**繧ｹ繧ｱ繝ｼ繝ｩ繝薙Μ繝・ぅ**: MVP谿ｵ髫弱〒縺ｯ1000莉ｶ縺ｾ縺ｧ蟇ｾ蠢懶ｼ医◎繧御ｻ･荳翫・DB遘ｻ陦梧､懆ｨ趣ｼ・

### 3.2 逕ｻ蜒冗ｮ｡逅・
- 笨・**菫晏ｭ伜・**: 螟夜ΚURL蜿ら・縺ｮ縺ｿ・・nsplash縲∝倶ｺｺ繝帙せ繝・ぅ繝ｳ繧ｰ遲会ｼ・
- 笨・**繧ｵ繝繝阪う繝ｫ**: iOS繧｢繝励Μ蛛ｴ縺ｧ繧ｭ繝｣繝・す繝･繝ｻ繝ｪ繧ｵ繧､繧ｺ
- 竢ｸ・・**Cloud Storage遘ｻ陦・*: v1莉･髯阪〒讀懆ｨ・

---

## 4. 讖溯・莉墓ｧ・

### 4.1 蜩∫ｨｮ蝗ｳ髑・
- 笨・**邉ｻ邨ｱ繝槭せ繧ｿ**: 蝗ｺ螳壹Μ繧ｹ繝茨ｼ医ヲ繧ｫ繝ｪ菴灘梛縲∵勸騾壻ｽ灘梛縲√ム繝ｫ繝樔ｽ灘梛縲∝濠繝繝ｫ繝橸ｼ・
- 笨・**迚ｹ蠕ｴ繧ｿ繧ｰ**: 繝励Μ繧ｻ繝・ヨ縺九ｉ隍・焚驕ｸ謚橸ｼ亥・菴灘梛縲・搨邉ｻ縲∬ｵ､邉ｻ縲・ｻ堤ｳｻ縲∫區邉ｻ縲√Λ繝｡・・
- 笨・**蜑企勁蛻ｶ邏・*: 螳ｹ蝎ｨ縺ｫ邏蝉ｻ倥＞縺ｦ縺・ｋ蜩∫ｨｮ縺ｯ蜑企勁荳榊庄・・09繧ｨ繝ｩ繝ｼ・・

### 4.2 螳ｹ蝎ｨ邂｡逅・
- 笨・**螳ｹ蝎ｨ蜑企勁**: 蜩∫ｨｮ縺檎ｴ蝉ｻ倥＞縺ｦ縺・ｋ蝣ｴ蜷医・蜑企勁荳榊庄・・09繧ｨ繝ｩ繝ｼ・・
- 笨・**蛟倶ｽ捺焚0**: 謇句虚縺ｧ0縺ｫ縺励※繧らｴ蝉ｻ倥￠縺ｯ谿九ｋ・亥炎髯､縺ｯ譏守､ｺ逧・↓螳溯｡鯉ｼ・

### 4.3 讀懃ｴ｢
- 笨・**讀懃ｴ｢蟇ｾ雎｡**: 蜩∫ｨｮ蜷阪・邉ｻ邨ｱ縺ｮ縺ｿ・郁ｪｬ譏取枚縺ｯ髯､螟悶√ヱ繝輔か繝ｼ繝槭Φ繧ｹ蜆ｪ蜈茨ｼ・
- 笨・**繧ｽ繝ｼ繝・*: 繝・ヵ繧ｩ繝ｫ繝医・菴懈・譌･譎る剄鬆・ｼ域眠縺励＞鬆・ｼ・

---

## 5. UI/UX

### 5.1 繧｢繧ｯ繧ｻ繧ｷ繝薙Μ繝・ぅ
- 笨・**譁・ｭ励し繧､繧ｺ**: 16pt蝗ｺ螳夲ｼ・ynamic Type蟇ｾ蠢懊・v1莉･髯搾ｼ・
- 笨・**繝繝ｼ繧ｯ繝｢繝ｼ繝・*: 髱槫ｯｾ蠢懶ｼ医Λ繧､繝医Δ繝ｼ繝峨・縺ｿ・・
- 竢ｸ・・**鬮倬ｽ｢閠・ユ繧ｹ繝・*: MVP螳梧・蠕後↓螳滓命

### 5.2 繝・じ繧､繝ｳ
- 笨・**繧ｫ繝ｩ繝ｼ繧ｹ繧ｭ繝ｼ繝**: 髱堤ｳｻ・医Γ繝繧ｫ縺ｮ豌ｴ繧偵う繝｡繝ｼ繧ｸ・・
- 竢ｸ・・**繧｢繧､繧ｳ繝ｳ**: 莉ｮ繧｢繧､繧ｳ繝ｳ縺ｧ騾ｲ陦後∝ｾ後〒蟾ｮ縺玲崛縺・

---

## 6. 繝・せ繝・

### 6.1 繝・せ繝医ョ繝ｼ繧ｿ
- 笨・**蛻晄悄繝・・繧ｿ**: 蜩∫ｨｮ10莉ｶ繝ｻ螳ｹ蝎ｨ3莉ｶ繧呈焔蜍輔〒逕ｨ諢・
- 笨・**繝・せ繝医Θ繝ｼ繧ｶ繝ｼ**: 髢狗匱閠・・霄ｫ縺ｮGoogle繧｢繧ｫ繧ｦ繝ｳ繝・縺､縺ｮ縺ｿ・域ｨｩ髯舌・謇句虚縺ｧ螟画峩・・

### 6.2 繝・せ繝育腸蠅・
- 笨・**髢狗匱迺ｰ蠅・*: 譛ｬ逡ｪ縺ｨ蜷後§Sheets繧剃ｽｿ逕ｨ・医す繝ｳ繝励Ν蛹門━蜈茨ｼ・
- 竢ｸ・・**CI/CD**: MVP螟・

---

## 7. 縺昴・莉・

### 7.1 繝峨く繝･繝｡繝ｳ繝・
- 笨・**繝ｦ繝ｼ繧ｶ繝ｼ繝槭ル繝･繧｢繝ｫ**: README.md縺ｫ邁｡譏鍋沿繧定ｨ倩ｼ・
- 竢ｸ・・**OpenAPI莉墓ｧ俶嶌**: MVP螟・

### 7.2 繝ｩ繧､繧ｻ繝ｳ繧ｹ
- 笨・**繝ｩ繧､繧ｻ繝ｳ繧ｹ**: MIT License
- 笨・**繧ｪ繝ｼ繝励Φ繧ｽ繝ｼ繧ｹ**: GitHub縺ｧ蜈ｬ髢倶ｺ亥ｮ・
- 笨・**繧ｵ繝ｳ繝励Ν逕ｻ蜒・*: Unsplash縺ｮ繝輔Μ繝ｼ邏譚舌ｒ菴ｿ逕ｨ

---

## 霑ｽ蜉豎ｺ螳壻ｺ矩・

### users繧ｷ繝ｼ繝郁ｿｽ蜉
Google Sheets縺ｫ`users`繧ｷ繝ｼ繝医ｒ霑ｽ蜉縺励√Θ繝ｼ繧ｶ繝ｼ諠・ｱ繧堤ｮ｡逅・ｼ・

| 蛻怜錐 | 蝙・| 蠢・・| 隱ｬ譏・| 萓・|
|------|-----|------|------|-----|
| id | string | 笨・| UUID | `user_abc123` |
| email | string | 笨・| Google繧｢繧ｫ繧ｦ繝ｳ繝・| `user@example.com` |
| name | string | 笨・| 陦ｨ遉ｺ蜷・| `逕ｰ荳ｭ螟ｪ驛餐 |
| role | string | 笨・| 讓ｩ髯・| `viewer`, `editor`, `admin` |
| created_at | datetime | 笨・| 逋ｻ骭ｲ譌･譎・| `2026-01-08T10:00:00Z` |
| last_login | datetime | 笨・| 譛邨ゅΟ繧ｰ繧､繝ｳ | `2026-01-08T10:00:00Z` |

---

**菴懈・譌･**: 2026-01-08  
**繝舌・繧ｸ繝ｧ繝ｳ**: 0.1  
**谺｡蝗樊峩譁ｰ**: 螳溯｣・ｸｭ縺ｫ霑ｽ蜉豎ｺ螳壹′縺ゅｌ縺ｰ髫乗凾譖ｴ譁ｰ

## 8. Flutter実装方針

- **対象**: Flutter（iOSのみ）
- **状態管理**: Riverpod
- **ルーティング**: go_router
- **HTTP**: dio
- **認証**: google_sign_inでGoogleログイン、JWTはflutter_secure_storageに保存
- **オフラインキャッシュ**: Hive（varieties/containers/container_varieties）
- **画像キャッシュ**: cached_network_image
